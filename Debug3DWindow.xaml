<Window x:Class="VRLightGun.Debug3DWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="3D Debug View" Height="600" Width="800"
        Background="#1E1E1E">
    <Grid>
        <Viewport3D x:Name="DebugViewport" ClipToBounds="True">
            <!-- Camera -->
            <Viewport3D.Camera>
                <PerspectiveCamera x:Name="Camera"
                    Position="0, 1.5, 3"
                    LookDirection="0, -0.3, -1"
                    UpDirection="0, 1, 0"
                    FieldOfView="60"/>
            </Viewport3D.Camera>

            <!-- Lighting -->
            <ModelVisual3D>
                <ModelVisual3D.Content>
                    <Model3DGroup>
                        <AmbientLight Color="#404040"/>
                        <DirectionalLight Color="#FFFFFF" Direction="-1,-1,-1"/>
                        <DirectionalLight Color="#808080" Direction="1,1,1"/>
                    </Model3DGroup>
                </ModelVisual3D.Content>
            </ModelVisual3D>

            <!-- Ground plane grid -->
            <ModelVisual3D x:Name="GroundPlane"/>

            <!-- Calibration points -->
            <ModelVisual3D x:Name="CalibrationPointsVisual"/>

            <!-- Screen plane -->
            <ModelVisual3D x:Name="ScreenPlaneVisual"/>

            <!-- Pointing ray -->
            <ModelVisual3D x:Name="PointingRayVisual"/>

            <!-- Controller position -->
            <ModelVisual3D x:Name="ControllerVisual"/>
        </Viewport3D>

        <!-- Info overlay -->
        <StackPanel Margin="10" HorizontalAlignment="Left" VerticalAlignment="Top">
            <TextBlock x:Name="InfoText" Foreground="White" FontFamily="Consolas" FontSize="12"/>
        </StackPanel>

        <!-- Controls -->
        <StackPanel Margin="10" HorizontalAlignment="Right" VerticalAlignment="Bottom" Orientation="Horizontal">
            <TextBlock Text="Camera: " Foreground="White" VerticalAlignment="Center"/>
            <Slider x:Name="CameraAngleSlider" Width="150" Minimum="0" Maximum="360" Value="0" 
                    ValueChanged="CameraAngleSlider_ValueChanged"/>
        </StackPanel>
    </Grid>
</Window>
